<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>í’€ìŠ¤íƒ ë°˜ë³µ ì—°ìŠµ</title>
</head>

<body>
    <h2>ğŸš€ í’€ìŠ¤íƒ ì—°ê²° í…ŒìŠ¤íŠ¸</h2>

    <input type="text" id="uid" placeholder="ì•„ì´ë”” (ì˜ˆ: user1)">
    <input type="text" id="name" placeholder="ì´ë¦„">
    <input type="text" id="job" placeholder="ì§ì—…">
    <button onclick="saveUser()">ì €ì¥ (Create)</button>

    <hr>

    <button onclick="readUser()">ë‚´ ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸° (Read)</button>
    <div id="result">ê²°ê³¼ê°€ ì—¬ê¸°ì— ë‚˜ì˜µë‹ˆë‹¤.</div>

    <script>
        // â˜… ì•„ê¹Œ ë³µì‚¬í•œ URLì„ ì—¬ê¸°ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”!
        const CREATE_URL = "https://YOUR_PROJECT_URL/createUser";
        const READ_URL = "https://YOUR_PROJECT_URL/getUser";

        async function saveUser() {
            const uid = document.getElementById("uid").value;
            const name = document.getElementById("name").value;
            const job = document.getElementById("job").value;

            const res = await fetch(CREATE_URL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ uid, name, job })
            });
            const data = await res.json();
            alert(data.message);
        }

        async function readUser() {
            const uid = document.getElementById("uid").value;
            // GET ë°©ì‹ì€ ì£¼ì†Œ ë’¤ì— ë°ì´í„°ë¥¼ ë¶™ì—¬ì„œ ë³´ëƒ…ë‹ˆë‹¤ (?uid=...)
            const res = await fetch(`${READ_URL}?uid=${uid}`);
            const data = await res.json();

            document.getElementById("result").innerText =
                JSON.stringify(data, null, 2);
        }
    </script>
</body>

</html>